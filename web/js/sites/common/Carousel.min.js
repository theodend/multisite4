var Caroussel=function(){function a(b,c){if(this.element=b,this.options={},this.isResizing=null,this.interval=null,this.current=0,this.isStarted=!1,this.isStopped=!1,this.imgs=[],this.options=$.extend(!0,{},a.DEFAULTS,c||{}),this.isInitialized=!1,this.element.addClass(this.getOpt("carouselClass")),this.slidesContainer=this.element.find(this.getClass("slideContainerClass")),this.slides=this.slidesContainer.find(this.getClass("slideClass")),this.numSlides=this.slides.length,this.numSlides<1)throw new Error("There is no slide to display");this.init()}return a.prototype.init=function(){this.sliderHeight=this.element.height(),this.sliderWidth=this.getSliderWidth();for(var a=0;a<this.numSlides;a++)this.imgs.push($(this.slides[a]).find("img").data("src"));this.createLoader(),this.initLoadImgs(),this.getOpt("onInit")(this)},a.prototype.initLoadImgs=function(){var a=this,b=0,c=0,d=$(this.slides[c]).find("img:first");d.load(function(){a.loaderLayer.empty(),a.imgs.shift(),a.getOpt("onLoad")(this,b),$(a.slides[c]).hide().fadeIn(150,function(){a.firstImg=d,a.imgWidth=d.width(),a.position()}),a.imgs.length>0&&(b++,a.loadNext(b))}).attr("src",this.imgs[0])},a.prototype.loadNext=function(a){var b=this,c=$(this.slides[a]).find("img:first");$(this.slides[a]).hide(),c.load(function(){b.imgs.shift(),b.getOpt("onLoad")(this,a),b.imgs.length>0?(a++,b.loadNext(a)):b.start()}).attr("src",this.imgs[0])},a.prototype.start=function(){var a=this;this.isResizing=null,this.isInitialized===!1&&(this.initEvents(),this.isInitialized=!0),null!==this.interval&&this.stop(),this.interval=window.setInterval(function(){a.next()},this.getOpt("duration")),this.getOpt("onStart")(this)},a.prototype.stop=function(a){this.isStarted=!1,(void 0===a||a===!1)&&(this.isStopped=!0),null!==this.interval&&(window.clearInterval(this.interval),this.interval=null),this.getOpt("onStop")(this)},a.prototype.next=function(){$(this.slides.get(this.current++)).fadeOut(this.getOpt("fadeTransionTime")),this.current===this.numSlides&&(this.current=0),$(this.slides.get(this.current)).fadeIn(this.getOpt("fadeTransionTime")),this.getOpt("onNext")(this)},a.prototype.prev=function(){$(this.slides.get(this.current--)).fadeOut(this.getOpt("fadeTransionTime")),this.current<0&&(this.current=this.numSlides-1),$(this.slides.get(this.current)).fadeIn(this.getOpt("fadeTransionTime")),this.getOpt("onPrev")(this)},a.prototype.moveTo=function(a){this.options.auto===!0&&this.stop(!0),$(this.slides.get(this.current)).fadeOut(this.getOpt("fadeTransionTime")),this.current=a,this.current===this.numSlides&&(this.current=0),this.current<0&&(this.current=this.numSlides-1),$(this.slides.get(this.current)).fadeIn(this.getOpt("fadeTransionTime")),this.options.auto===!0&&this.start(),this.getOpt("onMoveTo")(this)},a.prototype.getSliderWidth=function(){return this.getOpt("fullWidth")===!0?$(window).width():this.element.width()},a.prototype.position=function(){this.slidesContainer.css("left",-((this.imgWidth-this.getSliderWidth())/2)+"px")},a.prototype.createLoader=function(){var a=this;this.loaderLayer=$("<div />",{id:"loader-layer"});var b="<div class='spinner'><div class='spinner-container container1'><div class='circle1'></div><div class='circle2'></div><div class='circle3'></div><div class='circle4'></div></div><div class='spinner-container container2'><div class='circle1'></div><div class='circle2'></div><div class='circle3'></div><div class='circle4'></div></div><div class='spinner-container container3'><div class='circle1'></div><div class='circle2'></div><div class='circle3'></div><div class='circle4'></div></div></div>";this.loaderLayer.html(b),this.loaderLayer.css({position:"absolute",top:(a.sliderHeight-this.loaderLayer.height())/2+"px",left:(a.sliderWidth-this.loaderLayer.width())/2}),this.element.append(this.loaderLayer)},a.prototype.initEvents=function(){var a=this;$(window).on("resize",function(){a.options.auto===!0&&a.stop(!0),null!==a.isResizing&&(window.clearTimeout(a.isResizing),a.isResizing=null),a.isResizing=window.setTimeout(function(){a.position(),a.options.auto===!0&&a.isStopped===!1&&a.start()},300)})},a.prototype.getClass=function(a){return"."+this.getOpt(a)},a.prototype.getOpt=function(a){if(!this.options.hasOwnProperty(a))throw new Error("Option named "+a+" is undefined.");return this.options[a]},a.DEFAULTS={duration:2e3,fadeTransionTime:300,auto:!0,carouselClass:"header-carousel",slideContainerClass:"hc-slides",slideClass:"hc-slide",fullWidth:!0,onInit:function(){},onLoad:function(){},onStart:function(){},onStop:function(){},onNext:function(){},onPrev:function(){},onMoveTo:function(){}},a}();